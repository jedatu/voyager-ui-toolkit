var vs;!function(t){var n;!function(t){"use strict";var n=function(){function t(t){t.debugEnabled(!0)}return t.$inject=["$logProvider"],t}();t.Config=n}(n=t.tools||(t.tools={}))}(vs||(vs={}));var vs;!function(t){var n;!function(t){"use strict";var n=function(){function t(t){t.debug("runBlock end")}return t.$inject=["$log"],t}();t.RunBlock=n}(n=t.tools||(t.tools={}))}(vs||(vs={}));var vs;!function(t){var n;!function(t){"use strict";angular.module("vs.tools",[]).config(t.Config).run(t.RunBlock).constant("config",config)}(n=t.tools||(t.tools={}))}(vs||(vs={}));var vs;!function(t){var n;!function(t){var n;!function(t){"use strict";var n=function(){function t(t){var n=this;this.$http=t,this.fetch=function(t){var o=t||"name,category,docs,disp_en";return n.$http.jsonp(config.root+"solr/fields/select?q=*:*&fl={FIELDS}&sort=name%20asc&wt=json&rows=10000&json.wrf=JSON_CALLBACK".replace("{FIELDS}",o)).then(function(t){return t.data.response.docs}.bind(n))},this.gettingHydrationStats=function(t){return n.fetch().then(function(n){var o=[];n.forEach(function(t){t.docs&&o.push(t.name)});var r={params:{stats:!0,"stats.field":o,wt:"json"}};return this.$http.post(config.root+"solr/v0/select?rows=1&"+t,r,{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}).then(function(t){for(var o in t.data.stats.stats_fields)if(t.data.stats.stats_fields.hasOwnProperty(o))for(var r=0;r<n.length;r++)if(n[r].name===o){n[r].id=o,n[r].hydration=t.data.stats.stats_fields[o].count/(t.data.stats.stats_fields[o].count+t.data.stats.stats_fields[o].missing)*100;break}return n}.bind(this))}.bind(n))}}return t.$inject=["$http"],t.refName="fieldsResource",t}();t.FieldsResource=n}(n=t.fields||(t.fields={}))}(n=t.tools||(t.tools={}))}(vs||(vs={}));var vs;!function(t){var n;!function(t){var n;!function(t){"use strict";angular.module("vs.tools.fields",[]).service(t.FieldsResource.refName,t.FieldsResource)}(n=t.fields||(t.fields={}))}(n=t.tools||(t.tools={}))}(vs||(vs={}));var vs;!function(t){var n;!function(t){var n;!function(t){"use strict";angular.module("vs.tools.filters",[]).filter("replaceString",function(){return function(t,n,o){return t.replace(n,o)}})}(n=t.filters||(t.filters={}))}(n=t.tools||(t.tools={}))}(vs||(vs={}));var vs;!function(t){var n;!function(t){var n;!function(t){"use strict";angular.module("vs.tools.pageConfig",[])}(n=t.pageConfig||(t.pageConfig={}))}(n=t.tools||(t.tools={}))}(vs||(vs={})),angular.module("vs.tools.pageConfig").factory("pageConfigResource",["$http",function(t){"use strict";function n(){var t=a+"list";return t+="?rand="+Math.random()}function o(t){var n=a+t;return n+="?rand="+Math.random()}function r(){return t.get(n()).then(function(t){return t},function(t){return console.log(t),t})}function e(n){return t.get(o(n)).then(function(t){return t},function(t){return console.log(t),t})}function s(n){return t["delete"](o(n)).then(function(t){return t},function(t){return console.log(t),t})}function i(n){return t.post(a,n).then(function(t){return t},function(t){return console.log(t),t})}var a=config.root+"api/rest/display/config/";return{getPageConfigs:function(){return r()},getPageConfig:function(t){return e(t)},deletePageConfig:function(t){return s(t)},savePageConfig:function(t){return i(t)}}}]);var vs;!function(t){var n;!function(t){var n;!function(t){"use strict";angular.module("vs.tools.savedSearch",[])}(n=t.savedSearch||(t.savedSearch={}))}(n=t.tools||(t.tools={}))}(vs||(vs={})),angular.module("vs.tools.savedSearch").factory("savedSearchResource",["$http",function(t){"use strict";function n(){var t=150,n=config.root+"solr/ssearch/select?";return n+="rows="+t+"&rand="+Math.random(),n+="&fl=id,title,description,owner,path,share,query,config,order,saved,private,view,_version_,config_title:[configTitle]",n+="&wt=json&json.wrf=JSON_CALLBACK"}function o(){return t.jsonp(n()).then(function(t){return t.data.response.docs},function(t){return console.log(t),t})}return{getSavedSearches:function(){return o()},deleteSearch:function(n){return t["delete"](config.root+"api/rest/display/ssearch/"+n).then(function(){})},order:function(t,n,o){var r="";null!==n&&(r+="before="+n),""!==r&&(r+="&"),null!==o&&(r+="after="+o)}}}]);var vs;!function(t){var n;!function(t){var n;!function(t){var n=function(){function t(t,n,o){this.config=t,this.$http=n,this.$q=o,this.fields=null}return t.$inject=["config","$http","$q"],t.prototype.load=function(){var t=this,n=this.config.root+"api/rest/i18n/fields/standard.json";return this.fields?this.$q.when():this.$http.get(n).then(function(n){return t.fields=n.data,n.data})},t.prototype.translateField=function(t){var n=this.fields.FIELD[t];return angular.isDefined(n)?n:this.classify(t)},t.prototype.classify=function(t){return t=t.replace(/_/g," "),t.replace(/\w\S*/g,function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()})},t}();t.Translator=n}(n=t.translate||(t.translate={}))}(n=t.tools||(t.tools={}))}(vs||(vs={}));var vs;!function(t){var n;!function(t){var n;!function(t){"use strict";angular.module("vs.tools.translate",[]).factory("translator",["config","$http","$q",function(n,o,r){return new t.Translator(n,o,r)}]).constant("config",config)}(n=t.translate||(t.translate={}))}(n=t.tools||(t.tools={}))}(vs||(vs={}));
//# sourceMappingURL=maps/vs.toolkit.min.js.map